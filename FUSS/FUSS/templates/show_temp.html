{% extends "layout.html" %}
{% block body %}
    <script src='../static/scripts/Chart.min.js'></script>
    <canvas id="chart" width="1200" height="400"></canvas>
    <script>

        // bar chart data
        var barData = {
            labels: [{% for item in labels %}
                "{{item[0]}}",
            {% endfor %}],
            datasets: [{% for entry in entries %}
                {
                    label: "{{entry['name']}}",
                    fillColor: "rgba(0,0,255,0.2)",
                    strokeColor: "rgba(0,0,255,1)",
                    pointColor: "rgba(0,0,255,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(151,187,205,1)",
                    bezierCurve: true,
                    data: [{% for item in entry['values'] %}
                        {{item[0]}},
                    {% endfor %}]
                },
            {% endfor %}]
        }

        Chart.defaults.global.animationSteps = 50;
        Chart.defaults.global.tooltipYPadding = 16;
        Chart.defaults.global.tooltipCornerRadius = 0;
        Chart.defaults.global.tooltipTitleFontStyle = "normal";
        Chart.defaults.global.tooltipFillColor = "rgba(0,0,0,0.8)";
        Chart.defaults.global.animationEasing = "easeOutBounce";
        Chart.defaults.global.responsive = false;
        Chart.defaults.global.scaleLineColor = "black";
        Chart.defaults.global.scaleFontSize = 16;

        // get bar chart canvas
        var mychart = document.getElementById("chart").getContext("2d");

        steps = 5
        max = 40
        // draw bar chart
        var LineChartDemo = new Chart(mychart).Line(barData, {
            scaleOverride: true,
            scaleSteps: steps,
            scaleStepWidth: Math.ceil(max / steps),
            scaleStartValue: 15,
            scaleShowVerticalLines: true,
            scaleShowGridLines: true,
            barShowStroke: true,
            scaleShowLabels: true,
            bezierCurve: true,

        });


    </script>
    <br>
    Time = {{ misc['time'] }}, Entry count = {{ misc['entry_count'] }}
{% endblock %}